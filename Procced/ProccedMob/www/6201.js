"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6201],{6201:(to,u,c)=>{c.r(u),c.d(u,{LiberacaoColaboradorPageModule:()=>io});var d=c(177),g=c(4341),l=c(9893),m=c(4932),_=c(467),o=c(4438),f=c(4680),p=c(3727),C=c(6416),h=c(1365),j=c(1520),k=c(5035),P=c(2672),L=c(1746),F=c(3536);function I(n,r){if(1&n){const i=o.RV6();o.j41(0,"ion-chip",21),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.db.revalidaToken(e.db.app.token))}),o.EFF(1),o.k0s()}if(2&n){const i=o.XpG();o.R7$(),o.SpI(" Saindo em ",i.db.timer," min ")}}function G(n,r){if(1&n&&(o.j41(0,"ion-badge",22),o.EFF(1),o.k0s()),2&n){const i=o.XpG();o.R7$(),o.JRh(i.db.qtdNotificacoes)}}function $(n,r){1&n&&(o.j41(0,"ion-title"),o.EFF(1,"Selecione a empresa"),o.k0s())}function R(n,r){if(1&n&&(o.j41(0,"ion-title"),o.EFF(1),o.k0s()),2&n){const i=o.XpG();o.R7$(),o.JRh(i.db.cliente.nome)}}function T(n,r){if(1&n&&(o.j41(0,"ion-badge",23),o.EFF(1),o.k0s()),2&n){const i=o.XpG();o.R7$(),o.SpI(" ",i.colaboradores.length," ")}}function v(n,r){1&n&&(o.j41(0,"ion-item"),o.EFF(1,"Nenhum item encontrado"),o.k0s())}function N(n,r){1&n&&(o.j41(0,"ion-label",27),o.EFF(1," Senha cadastrada"),o.k0s())}function E(n,r){1&n&&(o.j41(0,"ion-label",27),o.EFF(1," N\xe3o possui senha provis\xf3ria"),o.k0s())}function x(n,r){1&n&&(o.j41(0,"ion-label",27),o.EFF(1," Possui senha provis\xf3ria"),o.k0s())}function D(n,r){if(1&n&&(o.j41(0,"ion-label",27),o.EFF(1),o.k0s()),2&n){const i=o.XpG().$implicit;o.R7$(),o.SpI(" Acessado em: ",i.ultimoAcessoStr," ")}}function S(n,r){1&n&&(o.j41(0,"ion-label",27),o.EFF(1," Nunca acessado "),o.k0s())}function Y(n,r){1&n&&o.nrm(0,"ion-icon",41)}function X(n,r){1&n&&o.nrm(0,"ion-icon",42)}function B(n,r){if(1&n&&(o.j41(0,"ion-badge"),o.EFF(1),o.k0s()),2&n){const i=o.XpG().$implicit;o.R7$(),o.JRh(i.quantidadeDocumentosNaoLidos)}}function V(n,r){1&n&&(o.j41(0,"ion-label",36),o.EFF(1,"Documentos"),o.k0s())}function y(n,r){1&n&&o.nrm(0,"ion-icon",43)}function A(n,r){1&n&&(o.j41(0,"ion-label",36),o.EFF(1,"Log"),o.k0s())}function O(n,r){if(1&n){const i=o.RV6();o.j41(0,"ion-button",34),o.bIt("click",function(){o.eBV(i);const e=o.XpG().$implicit,t=o.XpG();return o.Njj(t.libera(e,!1))}),o.nrm(1,"ion-icon",44),o.j41(2,"ion-label",45),o.EFF(3,"Bloquear"),o.k0s()()}}function U(n,r){if(1&n){const i=o.RV6();o.j41(0,"ion-button",34),o.bIt("click",function(){o.eBV(i);const e=o.XpG().$implicit,t=o.XpG();return o.Njj(t.libera(e,!0))}),o.nrm(1,"ion-icon",46),o.j41(2,"ion-label",47),o.EFF(3,"Liberar"),o.k0s()()}}function M(n,r){1&n&&o.nrm(0,"ion-icon",41)}function q(n,r){1&n&&o.nrm(0,"ion-icon",42)}function z(n,r){if(1&n&&(o.j41(0,"ion-badge"),o.EFF(1),o.k0s()),2&n){const i=o.XpG().$implicit;o.R7$(),o.JRh(i.quantidadeDocumentosNaoLidos)}}function J(n,r){1&n&&(o.j41(0,"ion-label",36),o.EFF(1,"Documentos"),o.k0s())}function w(n,r){1&n&&o.nrm(0,"ion-icon",43)}function W(n,r){1&n&&(o.j41(0,"ion-label",36),o.EFF(1,"Log"),o.k0s())}function H(n,r){if(1&n){const i=o.RV6();o.j41(0,"ion-button",39),o.bIt("click",function(){o.eBV(i);const e=o.XpG().$implicit,t=o.XpG();return o.Njj(t.libera(e,!1))}),o.nrm(1,"ion-icon",44),o.j41(2,"ion-label",45),o.EFF(3,"Bloquear"),o.k0s()()}}function Z(n,r){if(1&n){const i=o.RV6();o.j41(0,"ion-button",39),o.bIt("click",function(){o.eBV(i);const e=o.XpG().$implicit,t=o.XpG();return o.Njj(t.libera(e,!0))}),o.nrm(1,"ion-icon",46),o.j41(2,"ion-label",47),o.EFF(3,"Liberar"),o.k0s()()}}function K(n,r){if(1&n){const i=o.RV6();o.j41(0,"ion-item",24)(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-grid")(5,"ion-row")(6,"ion-col")(7,"ion-label",25),o.EFF(8),o.k0s()()(),o.j41(9,"ion-row")(10,"ion-col"),o.DNE(11,N,2,0,"ion-label",26)(12,E,2,0,"ion-label",26)(13,x,2,0,"ion-label",26),o.k0s(),o.j41(14,"ion-col"),o.DNE(15,D,2,1,"ion-label",26)(16,S,2,0,"ion-label",26),o.k0s()(),o.j41(17,"ion-row")(18,"ion-col")(19,"ion-label",27),o.EFF(20),o.k0s()(),o.j41(21,"ion-col")(22,"ion-label",27),o.EFF(23),o.k0s()()(),o.j41(24,"ion-row")(25,"ion-col")(26,"ion-label",27),o.EFF(27),o.k0s()(),o.j41(28,"ion-col")(29,"ion-label",27),o.EFF(30),o.k0s()()()()()(),o.j41(31,"ion-row",28)(32,"ion-col")(33,"ion-button",29),o.bIt("click",function(){const e=o.eBV(i).$implicit,t=o.XpG();return o.Njj(t.documentosColaborador(e))}),o.DNE(34,Y,1,0,"ion-icon",30)(35,X,1,0,"ion-icon",31)(36,B,2,1,"ion-badge",11)(37,V,2,0,"ion-label",32),o.k0s(),o.j41(38,"ion-button",29),o.bIt("click",function(){const e=o.eBV(i).$implicit,t=o.XpG();return o.Njj(t.logAcessos(e))}),o.DNE(39,y,1,0,"ion-icon",33)(40,A,2,0,"ion-label",32),o.k0s(),o.j41(41,"ion-button",34),o.bIt("click",function(){const e=o.eBV(i).$implicit,t=o.XpG();return o.Njj(t.senhaColaborador(e))}),o.nrm(42,"ion-icon",35),o.j41(43,"ion-label",36),o.EFF(44,"Alterar"),o.k0s()(),o.DNE(45,O,4,0,"ion-button",37)(46,U,4,0,"ion-button",37),o.k0s()()(),o.j41(47,"div",38)(48,"ion-button",29),o.bIt("click",function(){const e=o.eBV(i).$implicit,t=o.XpG();return o.Njj(t.documentosColaborador(e))}),o.DNE(49,M,1,0,"ion-icon",30)(50,q,1,0,"ion-icon",31)(51,z,2,1,"ion-badge",11)(52,J,2,0,"ion-label",32),o.k0s(),o.j41(53,"ion-button",29),o.bIt("click",function(){const e=o.eBV(i).$implicit,t=o.XpG();return o.Njj(t.logAcessos(e))}),o.DNE(54,w,1,0,"ion-icon",33)(55,W,2,0,"ion-label",32),o.k0s(),o.j41(56,"ion-button",39),o.bIt("click",function(){const e=o.eBV(i).$implicit,t=o.XpG();return o.Njj(t.senhaColaborador(e))}),o.nrm(57,"ion-icon",35),o.j41(58,"ion-label",36),o.EFF(59,"Alterar"),o.k0s()(),o.DNE(60,H,4,0,"ion-button",40)(61,Z,4,0,"ion-button",40),o.k0s()()}if(2&n){const i=r.$implicit,a=o.XpG();o.HbH("1"==i.Liberado?"liberado":"naoLiberado"),o.R7$(8),o.Lme(" ",i.Nome," (",a.db.formataCPF(i.CPF),")"),o.R7$(3),o.Y8G("ngIf","1"==i.PossuiSenha),o.R7$(),o.Y8G("ngIf","1"!==i.PossuiSenha&&"1"!==i.PossuiSenhaProvisoria),o.R7$(),o.Y8G("ngIf","1"!==i.PossuiSenha&&"1"==i.PossuiSenhaProvisoria),o.R7$(2),o.Y8G("ngIf",i.UltimoAcesso>"1899-12-31"),o.R7$(),o.Y8G("ngIf",i.UltimoAcesso<"1899-12-31"),o.R7$(4),o.SpI(" Admiss\xe3o: ",i.admissaoStr," "),o.R7$(3),o.SpI(" Nascimento: ",i.nascimentoStr," "),o.R7$(4),o.SpI(" E-mail: ",i.email," "),o.R7$(3),o.SpI(" Celular: ",i.celular," "),o.R7$(3),o.Y8G("disabled",0==i.quantidadeDocumentos),o.R7$(),o.Y8G("ngIf",0==i.quantidadeDocumentos),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentosNaoLidos>0),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(),o.Y8G("disabled",0==i.quantidadeDocumentos),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(5),o.Y8G("ngIf","1"==i.Liberado),o.R7$(),o.Y8G("ngIf","1"!==i.Liberado),o.R7$(2),o.Y8G("disabled",0==i.quantidadeDocumentos),o.R7$(),o.Y8G("ngIf",0==i.quantidadeDocumentos),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentosNaoLidos>0),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(),o.Y8G("disabled",0==i.quantidadeDocumentos),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(),o.Y8G("ngIf",i.quantidadeDocumentos>0),o.R7$(5),o.Y8G("ngIf","1"==i.Liberado),o.R7$(),o.Y8G("ngIf","1"!==i.Liberado)}}const Q=[{path:"",component:(()=>{class n{selNot;db;selCli;app;usuSvc;plt;senha;docsCol;logCol;colaboradores;buscaCol;constructor(i,a,e,t,s,b,no,eo,ao){this.selNot=i,this.db=a,this.selCli=e,this.app=t,this.usuSvc=s,this.plt=b,this.senha=no,this.docsCol=eo,this.logCol=ao}ngOnInit(){}ionViewWillEnter(){this.app.setSelectedIndex("Colaboradores"),this.plt.ready().then(()=>{this.db.getCliente()?this.carrega():this.selecionaCliente()})}carrega(i){this.usuSvc.GetColaboradores({token:this.db.app.token,idCliente:this.db.cliente.id}).subscribe(a=>{this.db.colaboradores=a.colaboradores,this.colaboradores=a.colaboradores,this.db.renovaToken(a.novoToken),console.log(a)})}libera(i,a,e){console.log(i),this.usuSvc.LiberaColaborador({token:this.db.app.token,idCliente:this.db.cliente.id,cpf:i.CPF,liberado:a}).subscribe(t=>{"true"==t.status&&(i.Liberado=a?"1":"2"),"1"!==i.PossuiSenha&&1==a&&this.senhaColaborador(i)})}logAcessos(i){var a=this;return(0,_.A)(function*(){console.log(i);const e=yield a.logCol.selecionaLog(i.CPF,a.db.cliente.id,i.Nome);console.log(e.data)})()}documentosColaborador(i){var a=this;return(0,_.A)(function*(){const e=yield a.docsCol.documentosColaborador(i.CPF,a.db.cliente.id,i.Nome);console.log(e.data)})()}selecionaCliente(){var i=this;return(0,_.A)(function*(){yield i.selCli.selecionaCliente(),i.db.cliente&&i.carrega()})()}senhaColaborador(i){var a=this;return(0,_.A)(function*(){const e=yield a.senha.senhaColaborador(i.CPF,i.Nome,i.email,i.celular,i.senhaProvisoria,"1"==i.PossuiSenha);e.data.status&&(i.email=e.data.email,i.celular=e.data.celular,i.senhaProvisoria=e.data.senhaProvisoria?e.data.senhaProvisoria:"",i.Liberado="1",e.data.senhaProvisoria&&(i.PossuiSenhaProvisoria="1",i.PossuiSenha="0"))})()}busca(i){this.buscaCol=i,this.colaboradores=this.db.colaboradores.filter(a=>this.db.compara([a.CPF,a.Nome,a.email],this.buscaCol))}static \u0275fac=function(a){return new(a||n)(o.rXU(f.q),o.rXU(p.a),o.rXU(C.G),o.rXU(h.Z),o.rXU(j.o),o.rXU(k.OD),o.rXU(P.H),o.rXU(L.v),o.rXU(F.u))};static \u0275cmp=o.VBU({type:n,selectors:[["app-liberacao-colaborador"]],decls:33,vars:8,consts:[["head",""],["color","primary",1,"alturamenor"],["collapse","true","slot","start",1,"alturamenor"],[1,"alturamenor"],["slot","end",1,"alturamenor"],["class","sessao",3,"click",4,"ngIf"],[3,"click"],["slot","start","name","logo-whatsapp"],[1,"alturamenor",3,"click"],["slot","icon-only","name","notifications-outline"],["top","","color","danger",4,"ngIf"],[4,"ngIf"],["slot","end"],["slot","icon-only","name","search-outline"],[1,"barraFiltro"],[2,"width","100%"],[1,"itemSemBorda",2,"height","49px"],["placeholder","Localizar Colaboradores",3,"ionChange","value"],["slot","end","class","fim",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["class","itemSemBorda itemCard itemOS",3,"class",4,"ngFor","ngForOf"],[1,"sessao",3,"click"],["top","","color","danger"],["slot","end",1,"fim"],[1,"itemSemBorda","itemCard","itemOS"],[1,"titulo"],["class","medio",4,"ngIf"],[1,"medio"],[1,"btnApp"],["size","large","fill","clear","item-right","",3,"click","disabled"],["name","",4,"ngIf"],["name","documents-outline",4,"ngIf"],["class","ttLbl",4,"ngIf"],["name","list-outline",4,"ngIf"],["size","large","fill","clear","item-right","",1,"tooltip",3,"click"],["name","create-outline"],[1,"ttLbl"],["class","tooltip","size","large","fill","clear","item-right","",3,"click",4,"ngIf"],[1,"btnBrowser"],["size","large","fill","clear","item-right","",3,"click"],["size","large","fill","clear","item-right","",3,"click",4,"ngIf"],["name",""],["name","documents-outline"],["name","list-outline"],["color","danger","name","close-circle-outline"],["color","danger",1,"ttLbl"],["color","success","name","checkmark-circle-outline"],["color","success",1,"ttLbl"]],template:function(a,e){if(1&a){const t=o.RV6();o.j41(0,"ion-header",null,0)(2,"ion-toolbar",1)(3,"ion-buttons",2),o.nrm(4,"ion-menu-button",3),o.k0s(),o.j41(5,"ion-buttons",4),o.DNE(6,I,2,1,"ion-chip",5),o.j41(7,"ion-button",6),o.bIt("click",function(){return o.eBV(t),o.Njj(e.db.sendWhats())}),o.nrm(8,"ion-icon",7),o.k0s(),o.j41(9,"ion-button",8),o.bIt("click",function(){return o.eBV(t),o.Njj(e.selNot.selecionaNotificacao())}),o.nrm(10,"ion-icon",9),o.DNE(11,G,2,1,"ion-badge",10),o.k0s()(),o.j41(12,"ion-title"),o.EFF(13,"Libera\xe7\xe3o de Colaboradores"),o.k0s()(),o.j41(14,"ion-toolbar",8),o.bIt("click",function(){return o.eBV(t),o.Njj(e.selecionaCliente())}),o.DNE(15,$,2,0,"ion-title",11)(16,R,2,1,"ion-title",11),o.j41(17,"ion-buttons",12)(18,"ion-button"),o.nrm(19,"ion-icon",13),o.k0s()()(),o.j41(20,"ion-toolbar")(21,"ion-grid")(22,"ion-row",14)(23,"ion-col",15)(24,"ion-item",16)(25,"ion-searchbar",17),o.bIt("ionChange",function(b){return o.eBV(t),o.Njj(e.busca(b.detail.value))}),o.k0s(),o.DNE(26,T,2,1,"ion-badge",18),o.k0s()()()()()(),o.j41(27,"ion-content")(28,"ion-refresher",19),o.bIt("ionRefresh",function(b){return o.eBV(t),o.Njj(e.carrega(b))}),o.nrm(29,"ion-refresher-content"),o.k0s(),o.j41(30,"ion-list"),o.DNE(31,v,2,0,"ion-item",11)(32,K,62,33,"ion-item",20),o.k0s()()}2&a&&(o.R7$(6),o.Y8G("ngIf",e.db.timer<=e.db.minMostraTimer),o.R7$(5),o.Y8G("ngIf",e.db.qtdNotificacoes>0),o.R7$(4),o.Y8G("ngIf",!e.db.cliente),o.R7$(),o.Y8G("ngIf",e.db.cliente),o.R7$(9),o.FS9("value",e.buscaCol),o.R7$(),o.Y8G("ngIf",e.colaboradores),o.R7$(5),o.Y8G("ngIf",e.colaboradores&&0==e.colaboradores.length),o.R7$(),o.Y8G("ngForOf",e.colaboradores))},dependencies:[d.Sq,d.bT,l.In,l.Jm,l.QW,l.ZB,l.hU,l.W9,l.lO,l.eU,l.iq,l.uz,l.he,l.nf,l.MC,l.To,l.Ki,l.ln,l.S1,l.BC,l.ai,l.Gw],styles:[".liberado[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-success-rgb),.2)}.naoLiberado[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-danger-rgb),.2)}.btnBrowser[_ngcontent-%COMP%]{display:none}.btnApp[_ngcontent-%COMP%]{display:block}@media only screen and (min-width: 768px){.btnBrowser[_ngcontent-%COMP%]{display:block}.btnApp[_ngcontent-%COMP%]{display:none}}.ttLbl[_ngcontent-%COMP%]{font-size:x-small;text-transform:none;position:absolute;padding-top:43px;letter-spacing:normal}"]})}return n})()}];let oo=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=o.$C({type:n});static \u0275inj=o.G2t({imports:[m.iI.forChild(Q),m.iI]})}return n})(),io=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=o.$C({type:n});static \u0275inj=o.G2t({imports:[d.MD,g.YN,l.bv,oo]})}return n})()}}]);