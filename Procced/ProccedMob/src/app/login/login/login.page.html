<ion-header>
  <ion-toolbar>
    <ion-title small color="primary"> Login </ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="noticias()">
        <ion-icon
          color="primary"
          slot="icon-only"
          name="arrow-back-outline"
        ></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-grid>
    <ion-row>   <!--  *ngIf="this.logo">  -->
      <ion-col style='margin-top: 50px'>
<!--          <ion-img
          [src]="this.logo"
          style="margin: auto; max-width: 250px"></ion-img> -->
          <ion-img
          [src]="db._URL_LOGO"
          style="margin: auto; max-width: 250px"></ion-img>
      </ion-col>
    </ion-row>
  </ion-grid>

<!--<ion-segment (ionChange)="segmentChanged($event)" [value]="tipoLogin">
  <ion-segment-button value="usuario">
    <ion-label>Usuario</ion-label>
  </ion-segment-button>
  <ion-segment-button value="colaborador">
    <ion-label>Colaborador</ion-label>
  </ion-segment-button>
</ion-segment>-->

  <form *ngIf="!resetSenha" #form="ngForm" (ngSubmit)="login(form)">
    <ion-grid>
      <ion-row justify-content-center>
        <ion-col align-self-center>
          <ion-item class="itemSemBorda" style="margin-top: 30px">
            <div>
              <ion-input #emailInput [(ngModel)]='email'
                style="margin: auto"
                name="email"
                type="email"
                placeholder="E-mail, Usuário ou CPF"
                ngModel
                required></ion-input>
            </div>
          </ion-item>
          <ion-item class="itemSemBorda" style="margin-bottom: 30px">
            <div style="width: 50%; margin: auto">
              <ion-input
                name="password"
                type="password"
                placeholder="Senha"
                ngModel
                required></ion-input>
            </div>
          </ion-item>
          <ion-item *ngIf="solNascimento" class="itemSemBorda" style="margin-bottom: 30px">
            <div style="width: 50%; margin: auto">
              <ion-label position="float">Data de nascimento</ion-label>
              <ion-input
                name="nascimento"
                type="text"
                ngModel
                required
                placeholder="dd/mm/aaaa"
                ></ion-input>
            </div>
          </ion-item>
          <ion-item *ngIf="solNovaSenha" class="itemSemBorda" style="margin-bottom: 30px">
            <div style="width: 50%; margin: auto">
              <ion-label position="float">Nova senha</ion-label>
              <ion-input
                name="novaSenha"
                type="password"
                ngModel
                required
                ></ion-input>
            </div>
          </ion-item>
          <ion-button class="btnEntrar"
            size="large"
            color="primary"
            type="submit"
            [disabled]="form.invalid"
            expand="block">Entrar
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col style='font-size: x-small'>
          {{ db.versao }}
        </ion-col>
        <ion-col style='text-align: right'>
          <ion-label class='esqueciSenha' (click)="resetSenha = true">Esqueci minha senha</ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
  <form *ngIf="resetSenha" #form="ngForm" (ngSubmit)="esqueciSenha(form)">
    <ion-grid>
      <ion-row justify-content-center>
        <ion-col align-self-center>
          <ion-item class="itemSemBorda" style="margin-top: 30px">
            <div>
              <ion-input [(ngModel)]='email'
                style="margin: auto"
                name="email"
                type="email"
                placeholder="E-mail , Usuário ou CPF "
                ngModel
                required></ion-input>
            </div>
          </ion-item>
          <ion-button class="btnEntrar"
            size="large"
            color="primary"
            type="submit"
            [disabled]="form.invalid"
            expand="block">Recuperar senha
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col style='text-align: right'>
          <ion-label class='esqueciSenha' (click)="resetSenha = false">Voltar</ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
