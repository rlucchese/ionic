{"version":3,"file":"src_app_pages_finaliza-expedicao_finaliza-expedicao_module_ts.js","mappings":"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","sources":["./src/app/pages/finaliza-expedicao/finaliza-expedicao-routing.module.ts","./src/app/pages/finaliza-expedicao/finaliza-expedicao.module.ts","./src/app/pages/finaliza-expedicao/finaliza-expedicao.page.ts","./src/app/pages/finaliza-expedicao/finaliza-expedicao.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FinalizaExpedicaoPage } from './finaliza-expedicao.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FinalizaExpedicaoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FinalizaExpedicaoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FinalizaExpedicaoPageRoutingModule } from './finaliza-expedicao-routing.module';\n\nimport { FinalizaExpedicaoPage } from './finaliza-expedicao.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FinalizaExpedicaoPageRoutingModule\n  ],\n  declarations: [FinalizaExpedicaoPage]\n})\nexport class FinalizaExpedicaoPageModule {}\n","import { NavParams } from '@ionic/angular';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { IdentificacaoPedidoPage } from './../identificacao-pedido/identificacao-pedido.page';\nimport { Component, OnInit } from '@angular/core';\nimport { DbService } from 'src/app/storage/db.service';\nimport { AppService } from 'src/app/api/app.service';\n\n@Component({\n  selector: 'app-finaliza-expedicao',\n  templateUrl: './finaliza-expedicao.page.html',\n  styleUrls: ['./finaliza-expedicao.page.scss'],\n})\nexport class FinalizaExpedicaoPage implements OnInit {\n\n  public idPedido: number\n  public volumes: number\n  public itensPed: number\n  public pesoLiq: number\n  public pesoBruto: number\n  public itensExped: number\n  public obs: string\npublic fatura: boolean\npublic jsonExpedicao: any\npublic params: any\n  constructor(public db:DbService, public router: Router, public route: ActivatedRoute, public svcApp: AppService ) {\n    this.route.queryParams.subscribe(params => {\n      let getNav = this.router.getCurrentNavigation();\n   //   console.log(getNav);\n     // console.log('construiu')\n\n      if (getNav.extras.state) {\n         this.params = getNav.extras.state;\n    //    console.log(this.params);\n\n      }\n    })\n  }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidEnter(){\n\n   this.idPedido = this.params.pedido\n   this.volumes = this.params.volumes\n   this.pesoLiq = this.params.pesoLiq\n   this.pesoBruto = this.params.pesoBruto\n   this.itensExped = this.params.itensExpedidos\n   this.itensPed = this.params.itensPedido\n   this.jsonExpedicao = JSON.parse(this.params.json)\n  }\nfinalizar(){\nthis.jsonExpedicao.extras = {volume: this.volumes,\n                              pesoLiq:this.pesoLiq,\n                            pesoBruto:this.pesoBruto,\n                          itensExpedidos: this.itensExped,\n                        obs: this.obs,\n                      fatura: this.fatura}\n\n  this.db.mostraProcessando()\nthis.svcApp.GetObjeto(\n'PedidoVenda',\n{\n  action: \"_setExpedicao\",\n dados: this.jsonExpedicao,\n token: this.db.getToken()\n}).subscribe((ret) => {\nif (ret.status) {\n  this.db.persiste('_delete', 'Expedicao', 'user').subscribe();\n  this.db.persiste('_delete', 'Expedicao', 'global', this.idPedido+'').subscribe()\n    this.router.navigate(['/expedicao'],{\n    state:\n    {\n      limpaPedido: true\n    }\n  })\n//  console.log(ret)\nthis.db.escondeProcessando()\n} else {\n  this.db.escondeProcessando()\n }\n  },\n  (err) => this.db.escondeProcessando(err.error)\n )\n\n                      console.log(this.jsonExpedicao);\n\n\n}\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","FinalizaExpedicaoPage","routes","path","component","FinalizaExpedicaoPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","IonicModule","FinalizaExpedicaoPageModule","declarations","Router","ActivatedRoute","Component","DbService","AppService","db","router","route","svcApp","idPedido","volumes","itensPed","pesoLiq","pesoBruto","itensExped","obs","fatura","jsonExpedicao","params","constructor","queryParams","subscribe","getNav","getCurrentNavigation","extras","state","ngOnInit","ionViewDidEnter","pedido","itensExpedidos","itensPedido","JSON","parse","json","finalizar","volume","mostraProcessando","GetObjeto","action","dados","token","getToken","ret","status","persiste","navigate","limpaPedido","escondeProcessando","err","error","console","log","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}